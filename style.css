:root{
  --bg:#0f172a; --card:#1e293b; --text:#e2e8f0;
  --muted:#94a3b8; --accent-blue:#3b82f6; --accent-green:#22c55e;
  --radius:16px; --shadow:0 6px 16px rgba(0,0,0,.35);
}

body{
  margin:0; font-family:"Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", "Malgun Gothic", Arial, sans-serif;
  background:var(--bg); color:var(--text);
  display:flex; flex-direction:column; min-height:100vh;
}

.topbar{ text-align:center; padding:24px 0; }
.topbar h1{ margin:0; font-size:26px; font-weight:700; }
.topbar .subtitle{ margin:6px 0 0; color:var(--muted); font-size:14px; }

#quiz{ max-width:820px; margin:0 auto; padding:20px; flex:1; }

/* íŒŒì¼ ì„ íƒ */
.controls{ text-align:center; margin:20px 0; }
.file-label{
  background:var(--card); padding:12px 20px;
  border-radius:var(--radius); cursor:pointer;
  border:1px solid #334155; font-size:15px;
}
.file-label:hover{ border-color:var(--accent-blue); }
.file-label input{ display:none; }

/* ë²„íŠ¼ ê³µí†µ */
.btn-green, .btn-blue, .btn-ghost{
  padding:12px 20px; border:none; border-radius:10px;
  font-size:16px; font-weight:600; cursor:pointer; color:#fff;
}
.btn-green{ background:var(--accent-green); }
.btn-blue{ background:var(--accent-blue); }
.btn-green:hover, .btn-blue:hover{ filter:brightness(1.1); }

.btn-ghost{
  background:transparent; color:var(--text);
  border:1px solid #3a4a63;
}
.btn-ghost:hover{ border-color:var(--accent-blue); }

/* ì‹œì‘ í™”ë©´ */
.start-screen{ text-align:center; margin-top:40px; }

/* ì¹´ë“œ(ë¬¸ì œ ì˜ì—­) â€“ ê³ ì • ë†’ì´ ìµœì í™” */
.card{
  background:var(--card); border-radius:var(--radius);
  box-shadow:var(--shadow); padding:40px; margin-top:30px;
  max-width:760px; margin-left:auto; margin-right:auto;

  /* â˜… í•µì‹¬: ì¹´ë“œ ìì²´ë¥¼ í•­ìƒ ì¼ì • ë†’ì´ë¡œ */
  min-height: 560px;                /* PC ê¸°ì¤€ ì—¬ìœ  ë†’ì´ */
  display:flex; flex-direction:column;
}

/* ì§„í–‰ë°” */
.progress-wrapper{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:16px;
}
#progress-bar{
  flex:1; height:14px; background:#334155;
  border-radius:9999px; overflow:hidden; margin-right:12px;
}
#progress-fill{
  height:100%; width:0%;
  background:linear-gradient(90deg, var(--accent-blue), var(--accent-green));
  transition:width .3s ease;
}
#progress-count{ font-size:14px; color:var(--muted); }

/* ë¬¸ì œ ë¬¸ì¥ â€“ í¬ê³  ì¤‘ì•™ */
#stem{
  font-size:30px; font-weight:800; text-align:center; margin:28px 0 20px;
}

/* ë³´ê¸° â€“ 2ì—´, ì¼ì • ë†’ì´ í™•ë³´ë¡œ í”ë“¤ë¦¼ ë°©ì§€ */
.choices{
  display:grid; grid-template-columns:1fr 1fr; gap:20px;
  margin-top:12px;

  /* â˜… ë³´ê¸° ì˜ì—­ë„ ìµœì†Œ ë†’ì´ */
  min-height: 180px;
}
.choices button{
  background:#334155; border:none; border-radius:12px;
  padding:20px; color:var(--text); text-align:center; cursor:pointer;
  font-size:18px; transition:.2s;
}
.choices button:hover{ background:#475569; }
.choice-correct{ background:#16a34a !important; color:#fff; }
.choice-wrong{ background:#dc2626 !important; color:#fff; }

/* í•´ì„¤ */
.answer{
  margin-top:18px; font-size:15px; color:var(--muted);

  /* â˜… í•´ì„¤ ì˜ì—­ ê³ ì • ê³µê°„ í™•ë³´ */
  min-height: 160px;               /* ì§§ì€ í•´ì„¤ë§Œ ìˆì–´ë„ ê³µê°„ ìœ ì§€ */
  display:flex; flex-direction:column; justify-content:flex-start;
}
.more{ margin-top:10px; }

/* ğŸ”µ More ë²„íŠ¼ */
.btn-more{
  background: var(--accent-blue);
  color:#fff; border:none;
  padding:10px 14px;
  border-radius:10px;
  font-weight:600; cursor:pointer;
}
.btn-more:hover{ filter:brightness(1.08); }

/* More ë³¸ë¬¸ â€“ ë¶€ë“œëŸ¬ìš´ í† ê¸€ (ì¤‘ë³µ ì •ì˜ ê¸ˆì§€) */
.more-body{
  max-height: 0;
  overflow: hidden;
  transition: max-height .3s ease, padding .3s ease, border-color .3s ease;
  margin-top:10px;
  padding:0 14px;                 /* ì ‘íŒ ìƒíƒœ íŒ¨ë”© */
  background:#243447;
  border:1px solid #334155;
  border-radius:10px;
}
.more-body.open{
  max-height: 400px;              /* ë„‰ë„‰í•˜ê²Œ */
  padding:12px 14px;              /* í¼ì¹œ ìƒíƒœ íŒ¨ë”© */
}
.more-body ul{ margin:8px 0 0 18px; }

/* ë‹¤ìŒ ë²„íŠ¼ */
.actions{ margin-top:auto; text-align:right; } /* ì¹´ë“œ í•˜ë‹¨ ì •ë ¬ */

/* ë°˜ì‘í˜• â€“ ëª¨ë°”ì¼ì—ì„œ ë†’ì´ ì‚´ì§ ì¶•ì†Œ */
@media (max-width: 640px){
  .choices{ grid-template-columns:1fr; min-height: 220px; }
  .card{ min-height: 520px; padding:28px; }
  #stem{ font-size:26px; margin:20px 0 14px; }
  .answer{ min-height: 150px; }
  .more-body.open{ max-height: 360px; }
}

/* ì´ˆê³ í•´ìƒë„ì—ì„œ ì•½ê°„ í‚¤ìš°ê¸° (ì„ íƒ) */
@media (min-width: 1280px){
  .card{ min-height: 580px; }
  #stem{ font-size:32px; }
}
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ë ˆì´ì•„ì›ƒ ê³ ì •: ì¹´ë“œ ë‚´ë¶€ êµ¬ì¡° ì•ˆì •í™” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* ì¹´ë“œ ì „ì²´ë¥¼ ì„¸ë¡œ í”Œë ‰ìŠ¤ë¡œ ë§Œë“¤ê³ , ë†’ì´ë¥¼ ì¶©ë¶„íˆ í™•ë³´ */
.quiz-screen.card{
  display: flex;
  flex-direction: column;
  min-height: 620px;            /* í•„ìš”ì‹œ 580~660 ì‚¬ì´ì—ì„œ ì¡°ì ˆ */
}

/* ì§„í–‰ë°”ëŠ” ê³ ì • ì˜ì—­ */
.quiz-screen .progress-wrapper{
  flex: 0 0 auto;
}

/* ë¬¸ì œ ë¬¸ì¥(#stem): ê³ ì • ìµœì†Œ ë†’ì´ + ê°€ìš´ë° ì •ë ¬ â†’ ì¤„ ê¸¸ì´ ë‹¬ë¼ë„ ì í”„ ë°©ì§€ */
#stem{
  flex: 0 0 auto;
  min-height: 110px;            /* ë¬¸ì œ ê¸¸ì´ì— ë§ì¶° 96~130pxë¡œ ì¡°ì ˆ ê°€ëŠ¥ */
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  line-height: 1.35;
}

/* ë³´ê¸°(choices): ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ê³ ì • êµ¬ì—­
   - min/maxë¡œ ì˜ì—­ì„ í™•ë³´í•˜ê³ , ë‚´ìš©ì´ ë„˜ì¹˜ë©´ ì´ ì•ˆì—ì„œë§Œ ìŠ¤í¬ë¡¤ */
.choices{
  flex: 1 1 auto;               /* ë‚¨ëŠ” ê³µê°„ì„ ìš°ì„  ì°¨ì§€ */
  min-height: 260px;            /* 2x2 ê·¸ë¦¬ë“œ ê¸°ì¤€ ì—¬ìœ  */
  max-height: 320px;            /* ë„ˆë¬´ ê¸¸ì–´ì§€ë©´ ë‚´ë¶€ ìŠ¤í¬ë¡¤ */
  overflow: auto;
  padding-right: 2px;           /* ìŠ¤í¬ë¡¤ë°” ê²¹ì¹¨ ë°©ì§€ ì†ŒëŸ‰ ì—¬ë°± */
}

/* í•´ì„¤(answer): ë³„ë„ ê³ ì • êµ¬ì—­ + ë‚´ë¶€ ìŠ¤í¬ë¡¤
   - More í¼ì³ì ¸ë„ ì´ ë°•ìŠ¤ ì•ˆì—ì„œë§Œ ìŠ¤í¬ë¡¤ ë°œìƒ â†’ ì „ì²´ ë ˆì´ì•„ì›ƒ ì•ˆì • */
.answer{
  flex: 0 0 auto;
  min-height: 180px;            /* í•´ì„¤ í•œë‘ ë¬¸ë‹¨ ê¸°ì¤€ */
  max-height: 220px;            /* ê¸¸ë©´ ì´ ì•ˆì—ì„œë§Œ ìŠ¤í¬ë¡¤ */
  overflow: auto;
  padding-right: 2px;
}

/* ë‹¤ìŒ ë²„íŠ¼(actions): í•­ìƒ ì¹´ë“œ ë§¨ ì•„ë˜ ê³ ì • */
.actions{
  flex: 0 0 auto;
  margin-top: 12px;
}

/* More ë³¸ë¬¸(ì´ë¯¸ ì „í™˜ì„ ì“°ê³  ìˆìœ¼ë¯€ë¡œ ê·¸ëŒ€ë¡œ ìœ ì§€).
   í•´ì„¤ ë°•ìŠ¤ê°€ ìŠ¤í¬ë¡¤ì„ ë‹´ë‹¹í•˜ë¯€ë¡œ í¼ì¹  ë•Œ ì „ì²´ ì í”„ ì—†ìŒ */
.more-body{
  max-height: 0;
  overflow: hidden;
  transition: max-height .3s ease;
  margin-top: 10px;
  padding: 0 14px;
  background:#243447;
  border:1px solid #334155;
  border-radius:10px;
}
.more-body.open{
  max-height: 360px;            /* ë‚´ìš©ì— ë”°ë¼ 280~420 ì‚¬ì´ ì¡°ì ˆ */
  padding: 12px 14px;
}

/* ë³´ê¸° ë²„íŠ¼ ë†’ì´/ê°„ê²©ì´ ì»¤ì„œ ì‘ì€ í™”ë©´ì—ì„œ ë„˜ì¹  ìˆ˜ ìˆìœ¼ë‹ˆ, ëª¨ë°”ì¼ì—ì„œ ì•½ê°„ ì¤„ì´ê¸° */
@media (max-width: 480px){
  .quiz-screen.card{ min-height: 640px; }     /* ëª¨ë°”ì¼ì€ ì•½ê°„ ë” ë†’ê²Œ */
  #stem{ min-height: 96px; font-size: 26px; }
  .choices{ min-height: 240px; max-height: 300px; }
  .choices button{ padding: 16px; font-size: 16px; }
  .answer{ min-height: 160px; max-height: 220px; }
}

